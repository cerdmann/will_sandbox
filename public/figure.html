<!DOCTYPE html>

<html>
    <head>
        <script>
            window.onload = function()
            {
                alert("Finished Loading");
                
                var will = document.getElementById('will');
                var ctx = will.getContext("2d");
                var images = {};
                
                loadImage("leftarm");
                loadImage("legs");
                loadImage("torso");
                loadImage("rightarm");
                loadImage("head");
                loadImage("hair");
                
                function loadImage(name) {
                    
                    images[name] = new Image();
                    images[name].onload = function() {
                        resourceLoaded();
                    }
                    images[name].src = "images/" + name + ".png";
                    var totalResources = 6;
                    var numResourcesLoaded = 0;
                    var fps = 30;
                    
                    function resourceLoaded() {
                        numResourcesLoaded += 1;
                        if(numResourcesLoaded === totalResources) {
                            setInterval(redraw, 1000 / fps);
                            
                            var context = document.getElementById('will').getContext("2d");
                            
                            var charX = 245;
                            var charY = 185;
                            
                            function redraw() {

                                will.width = will.width; // clears the will
                                
                                context.drawImage(images["leftarm"], x + 40, y - 42);   
                                context.drawImage(images["legs"], x, y);
                                context.drawImage(images["torso"], x, y - 50);
                                context.drawImage(images["rightarm"], x - 15, y - 42);
                                context.drawImage(images["head"], x - 10, y - 125);
                                context.drawImage(images["hair"], x - 37, y - 138);
                            }
                        }
                    }
                }

            }

        </script>
    </head>
    
    <body>
    <canvas id="will" ></canvas>
    </body>
</html>

        